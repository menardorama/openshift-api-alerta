#!/usr/bin/env python
########################################
#
# alert-server - Alerta Server daemon
#
########################################

import os
import sys

sys.path.append(os.path.join(os.environ['OPENSHIFT_REPO_DIR'], 'wsgi'))

from alerta.common import config
from alerta.common import log as logging
from alerta.server.daemon import AlertaDaemon, Version

os.environ['ALERTA_CONF'] = os.path.join(os.environ['OPENSHIFT_DATA_DIR'], 'alerta.conf')

LOG = logging.getLogger('alerta.server')
CONF = config.CONF


def main():
    config.parse_args(sys.argv[1:], version=Version)
    logging.setup('alerta')
    alerta = AlertaDaemon('alerta')
    alerta.start()

if __name__ == '__main__':
    main()

